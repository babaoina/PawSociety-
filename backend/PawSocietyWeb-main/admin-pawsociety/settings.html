<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PawSociety - Admin Settings</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/settings.css">
</head>

<body>
    <div class="header">
        <div class="logo">
            <h1>PawSociety <span>Admin</span></h1>
        </div>
        <div class="admin-profile" id="adminProfile">
            <div class="admin-name">
                <div class="name" id="adminName">Admin User</div>
                <div class="role" id="adminRole">Super Admin</div>
            </div>
            <div class="avatar" id="avatarBtn">A</div>

            <!-- Dropdown Menu - ONLY LOGOUT -->
            <div class="dropdown-menu" id="dropdownMenu">
                <div class="dropdown-item logout" onclick="logout()">
                    <span class="dropdown-icon">üö™</span>
                    <span>Logout</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <!-- REARRANGED MENU: Dashboard ‚Üí Posts ‚Üí Users ‚Üí Reports ‚Üí Settings -->
            <div class="menu-item" onclick="window.location.href='dashboard.html'">
                <span class="menu-icon">üìä</span>
                <span>Dashboard</span>
            </div>
            <div class="menu-item" onclick="window.location.href='posts.html'">
                <span class="menu-icon">üìù</span>
                <span>Posts</span>
            </div>
            <div class="menu-item" onclick="window.location.href='users.html'">
                <span class="menu-icon">üë•</span>
                <span>Users</span>
            </div>
            <div class="menu-item" onclick="window.location.href='reports.html'">
                <span class="menu-icon">üìà</span>
                <span>Reports</span>
            </div>
            <div class="menu-item active" onclick="window.location.href='settings.html'">
                <span class="menu-icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </div>
            <!-- LOGOUT REMOVED FROM SIDEBAR -->
        </div>

        <div class="main-content">
            <div class="page-title">
                <h2>Admin Settings</h2>
            </div>

            <div class="settings-nav">
                <div class="settings-tab active" onclick="switchTab('general')">General</div>
                <div class="settings-tab" onclick="switchTab('security')">Security</div>
                <div class="settings-tab" onclick="switchTab('notifications')">Notifications</div>
                <div class="settings-tab" onclick="switchTab('moderation')">Moderation</div>
                <div class="settings-tab" onclick="switchTab('api')">API</div>
            </div>

            <!-- General Settings -->
            <div class="settings-section" id="general-settings">
                <div class="settings-group">
                    <h3>General Settings</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Site Name</label>
                            <div class="description">The name of your website</div>
                        </div>
                        <div class="setting-control">
                            <input type="text" value="PawSociety" id="siteName">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Site Description</label>
                            <div class="description">Brief description of your site</div>
                        </div>
                        <div class="setting-control">
                            <input type="text" value="Because Every Pet Deserves a Home" id="siteDescription">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Contact Email</label>
                            <div class="description">Primary contact email address</div>
                        </div>
                        <div class="setting-control">
                            <input type="email" value="admin@pawsociety.com" id="contactEmail">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Timezone</label>
                            <div class="description">Default timezone for the site</div>
                        </div>
                        <div class="setting-control">
                            <select id="timezone">
                                <option value="UTC">UTC</option>
                                <option value="EST">Eastern Time</option>
                                <option value="PST" selected>Pacific Time</option>
                                <option value="GMT">GMT</option>
                                <option value="CST">Central Time</option>
                                <option value="MST">Mountain Time</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>Registration Settings</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Allow New Registrations</label>
                            <div class="description">Allow new users to register</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="allowRegistration">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Email Verification</label>
                            <div class="description">Require email verification for new accounts</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="emailVerification">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Default User Role</label>
                            <div class="description">Default role for new users</div>
                        </div>
                        <div class="setting-control">
                            <select id="defaultRole">
                                <option value="user" selected>User</option>
                                <option value="moderator">Moderator</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveSettings()">Save Changes</button>
            </div>

            <!-- Security Settings -->
            <div class="settings-section" id="security-settings" style="display: none;">
                <div class="settings-group">
                    <h3>Security Settings</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Two-Factor Authentication</label>
                            <div class="description">Require 2FA for admin accounts</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch" onclick="toggleSwitch(this)" id="twoFactorAuth">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Session Timeout</label>
                            <div class="description">Minutes before session expires</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" value="120" min="5" max="1440" id="sessionTimeout">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Password Complexity</label>
                            <div class="description">Minimum password requirements</div>
                        </div>
                        <div class="setting-control">
                            <select id="passwordComplexity">
                                <option value="basic">Basic (6+ characters)</option>
                                <option value="medium" selected>Medium (8+ chars, 1 number)</option>
                                <option value="strong">Strong (10+ chars, mixed case, numbers, symbols)</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Login Attempts</label>
                            <div class="description">Max login attempts before lockout</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" value="5" min="1" max="10" id="maxLoginAttempts">
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveSettings()">Save Changes</button>
            </div>

            <!-- Notification Settings -->
            <div class="settings-section" id="notification-settings" style="display: none;">
                <div class="settings-group">
                    <h3>Email Notifications</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>New User Registration</label>
                            <div class="description">Send email when new user registers</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="notifyNewUser">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>New Post Created</label>
                            <div class="description">Send email when new post is created</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="notifyNewPost">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Reported Content</label>
                            <div class="description">Send email when content is reported</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="notifyReported">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Daily Summary</label>
                            <div class="description">Receive daily activity summary</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch" onclick="toggleSwitch(this)" id="dailySummary">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveSettings()">Save Changes</button>
            </div>

            <!-- Moderation Settings -->
            <div class="settings-section" id="moderation-settings" style="display: none;">
                <div class="settings-group">
                    <h3>Content Moderation</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Auto-Approve Posts</label>
                            <div class="description">Automatically approve new posts</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch" onclick="toggleSwitch(this)" id="autoApprovePosts">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Require Post Approval</label>
                            <div class="description">Posts need admin approval before publishing</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="requireApproval">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Flagged Content Threshold</label>
                            <div class="description">Number of flags before auto-hide</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" value="3" min="1" max="10" id="flagThreshold">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Profanity Filter</label>
                            <div class="description">Automatically filter profanity in posts</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="profanityFilter">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveSettings()">Save Changes</button>
            </div>

            <!-- API Settings -->
            <div class="settings-section" id="api-settings" style="display: none;">
                <div class="settings-group">
                    <h3>API Settings</h3>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>API Status</label>
                            <div class="description">Enable/disable API access</div>
                        </div>
                        <div class="setting-control">
                            <div class="toggle-switch active" onclick="toggleSwitch(this)" id="apiStatus">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>API Key</label>
                            <div class="description">Your API access key</div>
                        </div>
                        <div class="setting-control">
                            <input type="text" value="pk_live_xxxxxxxxxxxxx" readonly id="apiKey">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>Rate Limiting</label>
                            <div class="description">Requests per minute per IP</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" value="60" min="1" max="1000" id="rateLimit">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <label>API Documentation</label>
                            <div class="description">Access API documentation</div>
                        </div>
                        <div class="setting-control">
                            <button class="btn" onclick="window.open('/api-docs', '_blank')"
                                style="padding: 8px 15px; background: #7A4F2B; color: white; border: none; border-radius: 5px; cursor: pointer;">View
                                Docs</button>
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveSettings()">Save Changes</button>
            </div>

            <div class="danger-zone">
                <h4>‚ö†Ô∏è Danger Zone</h4>
                <p>These actions are irreversible. Please proceed with caution.</p>
                <button class="danger-button" onclick="clearCache()">Clear System Cache</button>
                <button class="danger-button" onclick="resetSettings()">Reset All Settings</button>
                <button class="danger-button" onclick="deleteAllData()" style="background: #F44336;">Delete All
                    Data</button>
            </div>
        </div>
    </div>

    <script>
        // Check authentication
        if (!localStorage.getItem('adminToken')) {
            window.location.href = 'index.html';
        }

        // Toggle dropdown menu
        const avatarBtn = document.getElementById('avatarBtn');
        const dropdownMenu = document.getElementById('dropdownMenu');

        avatarBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            dropdownMenu.classList.toggle('show');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function (e) {
            if (!avatarBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.remove('show');
            }
        });

        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminToken');
                localStorage.removeItem('adminUser');
                window.location.href = 'index.html';
            }
        }
    </script>
    <script src="js/settings.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>